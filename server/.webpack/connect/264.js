"use strict";exports.id=264,exports.ids=[264],exports.modules={9264:(B,m,n)=>{n.d(m,{fromIni:()=>R});var l=n(7652),d=n(6034);const C=(e,o)=>{const s={EcsContainer:r=>n.e(51).then(n.bind(n,8051)).then(({fromContainerMetadata:t})=>t(r)),Ec2InstanceMetadata:r=>n.e(51).then(n.bind(n,8051)).then(({fromInstanceMetadata:t})=>t(r)),Environment:r=>n.e(137).then(n.bind(n,1137)).then(({fromEnv:t})=>t(r))};if(e in s)return s[e];throw new d.C1(`Unsupported credential source in profile ${o}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)},g=e=>Boolean(e)&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(v(e)||h(e)),v=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",h=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",P=async(e,o,s,r={})=>{s.logger?.debug("@aws-sdk/credential-provider-ini","resolveAssumeRoleCredentials (STS)");const t=o[e];if(!s.roleAssumer){const{getDefaultRoleAssumer:E}=await Promise.all([n.e(888),n.e(135),n.e(407)]).then(n.bind(n,4407));s.roleAssumer=E({...s.clientConfig,credentialProviderLogger:s.logger,parentClientConfig:s?.parentClientConfig},s.clientPlugins)}const{source_profile:i}=t;if(i&&i in r)throw new d.C1(`Detected a cycle attempting to resolve credentials for profile ${(0,l.Bz)(s)}. Profiles visited: `+Object.keys(r).join(", "),!1);const W=i?u(i,o,s,{...r,[i]:!0}):(await C(t.credential_source,e)(s))(),c={RoleArn:t.role_arn,RoleSessionName:t.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:t.external_id,DurationSeconds:parseInt(t.duration_seconds||"3600",10)},{mfa_serial:a}=t;if(a){if(!s.mfaCodeProvider)throw new d.C1(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);c.SerialNumber=a,c.TokenCode=await s.mfaCodeProvider(a)}const w=await W;return s.roleAssumer(w,c)},A=e=>Boolean(e)&&typeof e=="object"&&typeof e.credential_process=="string",S=async(e,o)=>n.e(812).then(n.bind(n,3812)).then(({fromProcess:s})=>s({...e,profile:o})()),I=async(e,o={})=>{const{fromSSO:s}=await n.e(546).then(n.bind(n,1546));return s({profile:e,logger:o.logger})()},x=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),f=e=>Boolean(e)&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,y=(e,o)=>(o?.logger?.debug("@aws-sdk/credential-provider-ini","resolveStaticCredentials"),Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,credentialScope:e.aws_credential_scope})),j=e=>Boolean(e)&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,O=async(e,o)=>n.e(512).then(n.bind(n,2512)).then(({fromTokenFile:s})=>s({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:o.roleAssumerWithWebIdentity,logger:o.logger,parentClientConfig:o.parentClientConfig})()),u=async(e,o,s,r={})=>{const t=o[e];if(Object.keys(r).length>0&&f(t))return y(t,s);if(g(t))return P(e,o,s,r);if(f(t))return y(t,s);if(j(t))return O(t,s);if(A(t))return S(s,e);if(x(t))return await I(e,s);throw new d.C1(`Profile ${e} could not be found or parsed in shared credentials file.`)},R=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-ini","fromIni");const o=await(0,l.YU)(e);return u((0,l.Bz)(e),o,e)}}};

//# sourceMappingURL=264.js.map