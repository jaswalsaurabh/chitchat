"use strict";exports.id=135,exports.ids=[135],exports.modules={8135:(An,kt,d)=>{d.d(kt,{cz:()=>Mt,I$:()=>Kt});var ie=d(3551),Je=d(3774),r=d(112);const zt=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Qe={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class b extends r.TJ{constructor(s){super(s),Object.setPrototypeOf(this,b.prototype)}}class ce extends b{constructor(s){super({name:"ExpiredTokenException",$fault:"client",...s}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,ce.prototype)}}class ae extends b{constructor(s){super({name:"MalformedPolicyDocumentException",$fault:"client",...s}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,ae.prototype)}}class de extends b{constructor(s){super({name:"PackedPolicyTooLargeException",$fault:"client",...s}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,de.prototype)}}class le extends b{constructor(s){super({name:"RegionDisabledException",$fault:"client",...s}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,le.prototype)}}class me extends b{constructor(s){super({name:"IDPRejectedClaimException",$fault:"client",...s}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,me.prototype)}}class ue extends b{constructor(s){super({name:"InvalidIdentityTokenException",$fault:"client",...s}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,ue.prototype)}}class he extends b{constructor(s){super({name:"IDPCommunicationErrorException",$fault:"client",...s}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,he.prototype)}}class fe extends b{constructor(s){super({name:"InvalidAuthorizationMessageException",$fault:"client",...s}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,fe.prototype)}}const Y=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:r.$H}}),Gt=e=>({...e,...e.Credentials&&{Credentials:Y(e.Credentials)}}),Sn=e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:SENSITIVE_STRING}}),En=e=>({...e,...e.Credentials&&{Credentials:Y(e.Credentials)}}),Ft=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:r.$H}}),Lt=e=>({...e,...e.Credentials&&{Credentials:Y(e.Credentials)}}),Pn=e=>({...e,...e.Credentials&&{Credentials:Y(e.Credentials)}}),vn=e=>({...e,...e.Credentials&&{Credentials:Y(e.Credentials)}});var ye=d(9113),Ot=d(1888);const Ht=async(e,s)=>{const t=k;let n;return n=L({...es(e,s),[G]:$s,[F]:z}),K(s,t,"/",void 0,n)},Rn=async(e,s)=>{const t=k;let n;return n=L({...ts(e,s),[G]:Ws,[F]:z}),K(s,t,"/",void 0,n)},jt=async(e,s)=>{const t=k;let n;return n=L({...ss(e,s),[G]:Ms,[F]:z}),K(s,t,"/",void 0,n)},In=async(e,s)=>{const t=k;let n;return n=L({...ns(e,s),[G]:Ks,[F]:z}),K(s,t,"/",void 0,n)},Cn=async(e,s)=>{const t=k;let n;return n=L({...os(e,s),[G]:ks,[F]:z}),K(s,t,"/",void 0,n)},pn=async(e,s)=>{const t=k;let n;return n=L({...rs(e,s),[G]:zs,[F]:z}),K(s,t,"/",void 0,n)},xn=async(e,s)=>{const t=k;let n;return n=L({...is(e,s),[G]:Gs,[F]:z}),K(s,t,"/",void 0,n)},bn=async(e,s)=>{const t=k;let n;return n=L({...cs(e,s),[G]:Fs,[F]:z}),K(s,t,"/",void 0,n)},Ut=async(e,s)=>{if(e.statusCode>=300)return M(e,s);const t=await W(e.body,s);let n={};return n=hs(t.AssumeRoleResult,s),{$metadata:A(e),...n}},_n=async(e,s)=>{if(e.statusCode>=300)return M(e,s);const t=await W(e.body,s);let n={};return n=fs(t.AssumeRoleWithSAMLResult,s),{$metadata:A(e),...n}},Nt=async(e,s)=>{if(e.statusCode>=300)return M(e,s);const t=await W(e.body,s);let n={};return n=ys(t.AssumeRoleWithWebIdentityResult,s),{$metadata:A(e),...n}},wn=async(e,s)=>{if(e.statusCode>=300)return M(e,s);const t=await W(e.body,s);let n={};return n=gs(t.DecodeAuthorizationMessageResult,s),{$metadata:A(e),...n}},Tn=async(e,s)=>{if(e.statusCode>=300)return M(e,s);const t=await W(e.body,s);let n={};return n=Es(t.GetAccessKeyInfoResult,s),{$metadata:A(e),...n}},Dn=async(e,s)=>{if(e.statusCode>=300)return M(e,s);const t=await W(e.body,s);let n={};return n=Ps(t.GetCallerIdentityResult,s),{$metadata:A(e),...n}},$n=async(e,s)=>{if(e.statusCode>=300)return M(e,s);const t=await W(e.body,s);let n={};return n=vs(t.GetFederationTokenResult,s),{$metadata:A(e),...n}},Wn=async(e,s)=>{if(e.statusCode>=300)return M(e,s);const t=await W(e.body,s);let n={};return n=Rs(t.GetSessionTokenResult,s),{$metadata:A(e),...n}},M=async(e,s)=>{const t={...e,body:await Ls(e.body,s)},n=Os(e,t.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Vt(t,s);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Yt(t,s);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Xt(t,s);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await qt(t,s);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Zt(t,s);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await Qt(t,s);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Bt(t,s);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await Jt(t,s);default:const o=t.body;return Ds({output:e,parsedBody:o.Error,errorCode:n})}},Vt=async(e,s)=>{const t=e.body,n=As(t.Error,s),o=new ce({$metadata:A(e),...n});return(0,r.Mw)(o,t)},Bt=async(e,s)=>{const t=e.body,n=Is(t.Error,s),o=new he({$metadata:A(e),...n});return(0,r.Mw)(o,t)},Zt=async(e,s)=>{const t=e.body,n=Cs(t.Error,s),o=new me({$metadata:A(e),...n});return(0,r.Mw)(o,t)},Jt=async(e,s)=>{const t=e.body,n=ps(t.Error,s),o=new fe({$metadata:A(e),...n});return(0,r.Mw)(o,t)},Qt=async(e,s)=>{const t=e.body,n=xs(t.Error,s),o=new ue({$metadata:A(e),...n});return(0,r.Mw)(o,t)},Yt=async(e,s)=>{const t=e.body,n=bs(t.Error,s),o=new ae({$metadata:A(e),...n});return(0,r.Mw)(o,t)},Xt=async(e,s)=>{const t=e.body,n=_s(t.Error,s),o=new de({$metadata:A(e),...n});return(0,r.Mw)(o,t)},qt=async(e,s)=>{const t=e.body,n=ws(t.Error,s),o=new le({$metadata:A(e),...n});return(0,r.Mw)(o,t)},es=(e,s)=>{const t={};if(e[$]!=null&&(t[$]=e[$]),e[V]!=null&&(t[V]=e[V]),e[I]!=null){const n=se(e[I],s);e[I]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([o,a])=>{const c=`PolicyArns.${o}`;t[c]=a})}if(e[R]!=null&&(t[R]=e[R]),e[P]!=null&&(t[P]=e[P]),e[Z]!=null){const n=Ye(e[Z],s);e[Z]?.length===0&&(t.Tags=[]),Object.entries(n).forEach(([o,a])=>{const c=`Tags.${o}`;t[c]=a})}if(e[Le]!=null){const n=us(e[Le],s);e[Le]?.length===0&&(t.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,a])=>{const c=`TransitiveTagKeys.${o}`;t[c]=a})}if(e[ve]!=null&&(t[ve]=e[ve]),e[B]!=null&&(t[B]=e[B]),e[J]!=null&&(t[J]=e[J]),e[p]!=null&&(t[p]=e[p]),e[De]!=null){const n=ls(e[De],s);e[De]?.length===0&&(t.ProvidedContexts=[]),Object.entries(n).forEach(([o,a])=>{const c=`ProvidedContexts.${o}`;t[c]=a})}return t},ts=(e,s)=>{const t={};if(e[$]!=null&&(t[$]=e[$]),e[we]!=null&&(t[we]=e[we]),e[ke]!=null&&(t[ke]=e[ke]),e[I]!=null){const n=se(e[I],s);e[I]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([o,a])=>{const c=`PolicyArns.${o}`;t[c]=a})}return e[R]!=null&&(t[R]=e[R]),e[P]!=null&&(t[P]=e[P]),t},ss=(e,s)=>{const t={};if(e[$]!=null&&(t[$]=e[$]),e[V]!=null&&(t[V]=e[V]),e[je]!=null&&(t[je]=e[je]),e[$e]!=null&&(t[$e]=e[$e]),e[I]!=null){const n=se(e[I],s);e[I]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([o,a])=>{const c=`PolicyArns.${o}`;t[c]=a})}return e[R]!=null&&(t[R]=e[R]),e[P]!=null&&(t[P]=e[P]),t},ns=(e,s)=>{const t={};return e[Re]!=null&&(t[Re]=e[Re]),t},os=(e,s)=>{const t={};return e[j]!=null&&(t[j]=e[j]),t},rs=(e,s)=>({}),is=(e,s)=>{const t={};if(e[be]!=null&&(t[be]=e[be]),e[R]!=null&&(t[R]=e[R]),e[I]!=null){const n=se(e[I],s);e[I]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([o,a])=>{const c=`PolicyArns.${o}`;t[c]=a})}if(e[P]!=null&&(t[P]=e[P]),e[Z]!=null){const n=Ye(e[Z],s);e[Z]?.length===0&&(t.Tags=[]),Object.entries(n).forEach(([o,a])=>{const c=`Tags.${o}`;t[c]=a})}return t},cs=(e,s)=>{const t={};return e[P]!=null&&(t[P]=e[P]),e[B]!=null&&(t[B]=e[B]),e[J]!=null&&(t[J]=e[J]),t},se=(e,s)=>{const t={};let n=1;for(const o of e){if(o===null)continue;const a=as(o,s);Object.entries(a).forEach(([c,f])=>{t[`member.${n}.${c}`]=f}),n++}return t},as=(e,s)=>{const t={};return e[Ue]!=null&&(t[Ue]=e[Ue]),t},ds=(e,s)=>{const t={};return e[Te]!=null&&(t[Te]=e[Te]),e[Se]!=null&&(t[Se]=e[Se]),t},ls=(e,s)=>{const t={};let n=1;for(const o of e){if(o===null)continue;const a=ds(o,s);Object.entries(a).forEach(([c,f])=>{t[`member.${n}.${c}`]=f}),n++}return t},ms=(e,s)=>{const t={};return e[xe]!=null&&(t[xe]=e[xe]),e[He]!=null&&(t[He]=e[He]),t},us=(e,s)=>{const t={};let n=1;for(const o of e)o!==null&&(t[`member.${n}`]=o,n++);return t},Ye=(e,s)=>{const t={};let n=1;for(const o of e){if(o===null)continue;const a=ms(o,s);Object.entries(a).forEach(([c,f])=>{t[`member.${n}.${c}`]=f}),n++}return t},ge=(e,s)=>{const t={};return e[Ae]!=null&&(t[Ae]=(0,r.lK)(e[Ae])),e[D]!=null&&(t[D]=(0,r.lK)(e[D])),t},hs=(e,s)=>{const t={};return e[E]!=null&&(t[E]=X(e[E],s)),e[T]!=null&&(t[T]=ge(e[T],s)),e[C]!=null&&(t[C]=(0,r.xW)(e[C])),e[p]!=null&&(t[p]=(0,r.lK)(e[p])),t},fs=(e,s)=>{const t={};return e[E]!=null&&(t[E]=X(e[E],s)),e[T]!=null&&(t[T]=ge(e[T],s)),e[C]!=null&&(t[C]=__strictParseInt32(e[C])),e[Me]!=null&&(t[Me]=__expectString(e[Me])),e[Ge]!=null&&(t[Ge]=__expectString(e[Ge])),e[pe]!=null&&(t[pe]=__expectString(e[pe])),e[N]!=null&&(t[N]=__expectString(e[N])),e[_e]!=null&&(t[_e]=__expectString(e[_e])),e[p]!=null&&(t[p]=__expectString(e[p])),t},ys=(e,s)=>{const t={};return e[E]!=null&&(t[E]=X(e[E],s)),e[ze]!=null&&(t[ze]=(0,r.lK)(e[ze])),e[T]!=null&&(t[T]=ge(e[T],s)),e[C]!=null&&(t[C]=(0,r.xW)(e[C])),e[We]!=null&&(t[We]=(0,r.lK)(e[We])),e[N]!=null&&(t[N]=(0,r.lK)(e[N])),e[p]!=null&&(t[p]=(0,r.lK)(e[p])),t},X=(e,s)=>{const t={};return e[j]!=null&&(t[j]=(0,r.lK)(e[j])),e[Ke]!=null&&(t[Ke]=(0,r.lK)(e[Ke])),e[Fe]!=null&&(t[Fe]=(0,r.lK)(e[Fe])),e[Pe]!=null&&(t[Pe]=(0,r.Y0)((0,r.t_)(e[Pe]))),t},gs=(e,s)=>{const t={};return e[Ee]!=null&&(t[Ee]=__expectString(e[Ee])),t},As=(e,s)=>{const t={};return e[u]!=null&&(t[u]=(0,r.lK)(e[u])),t},Ss=(e,s)=>{const t={};return e[Ce]!=null&&(t[Ce]=__expectString(e[Ce])),e[D]!=null&&(t[D]=__expectString(e[D])),t},Es=(e,s)=>{const t={};return e[U]!=null&&(t[U]=__expectString(e[U])),t},Ps=(e,s)=>{const t={};return e[Oe]!=null&&(t[Oe]=__expectString(e[Oe])),e[U]!=null&&(t[U]=__expectString(e[U])),e[D]!=null&&(t[D]=__expectString(e[D])),t},vs=(e,s)=>{const t={};return e[E]!=null&&(t[E]=X(e[E],s)),e[Ie]!=null&&(t[Ie]=Ss(e[Ie],s)),e[C]!=null&&(t[C]=__strictParseInt32(e[C])),t},Rs=(e,s)=>{const t={};return e[E]!=null&&(t[E]=X(e[E],s)),t},Is=(e,s)=>{const t={};return e[u]!=null&&(t[u]=(0,r.lK)(e[u])),t},Cs=(e,s)=>{const t={};return e[u]!=null&&(t[u]=(0,r.lK)(e[u])),t},ps=(e,s)=>{const t={};return e[u]!=null&&(t[u]=(0,r.lK)(e[u])),t},xs=(e,s)=>{const t={};return e[u]!=null&&(t[u]=(0,r.lK)(e[u])),t},bs=(e,s)=>{const t={};return e[u]!=null&&(t[u]=(0,r.lK)(e[u])),t},_s=(e,s)=>{const t={};return e[u]!=null&&(t[u]=(0,r.lK)(e[u])),t},ws=(e,s)=>{const t={};return e[u]!=null&&(t[u]=(0,r.lK)(e[u])),t},A=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Ts=(e,s)=>(0,r.Px)(e,s).then(t=>s.utf8Encoder(t)),Ds=(0,r.jr)(b),K=async(e,s,t,n,o)=>{const{hostname:a,protocol:c="https",port:f,path:w}=await e.endpoint(),x={protocol:c,hostname:a,port:f,method:"POST",path:w.endsWith("/")?w.slice(0,-1)+t:w+t,headers:s};return n!==void 0&&(x.hostname=n),o!==void 0&&(x.body=o),new ye.Kd(x)},k={"content-type":"application/x-www-form-urlencoded"},z="2011-06-15",G="Action",j="AccessKeyId",$s="AssumeRole",Ae="AssumedRoleId",T="AssumedRoleUser",Ws="AssumeRoleWithSAML",Ms="AssumeRoleWithWebIdentity",U="Account",D="Arn",N="Audience",E="Credentials",Se="ContextAssertion",Ks="DecodeAuthorizationMessage",Ee="DecodedMessage",P="DurationSeconds",Pe="Expiration",ve="ExternalId",Re="EncodedMessage",Ie="FederatedUser",Ce="FederatedUserId",ks="GetAccessKeyInfo",zs="GetCallerIdentity",Gs="GetFederationToken",Fs="GetSessionToken",pe="Issuer",xe="Key",be="Name",_e="NameQualifier",R="Policy",I="PolicyArns",we="PrincipalArn",Te="ProviderArn",De="ProvidedContexts",$e="ProviderId",C="PackedPolicySize",We="Provider",$="RoleArn",V="RoleSessionName",Me="Subject",Ke="SecretAccessKey",ke="SAMLAssertion",ze="SubjectFromWebIdentityToken",p="SourceIdentity",B="SerialNumber",Ge="SubjectType",Fe="SessionToken",Z="Tags",J="TokenCode",Le="TransitiveTagKeys",Oe="UserId",F="Version",He="Value",je="WebIdentityToken",Ue="arn",u="message",W=(e,s)=>Ts(e,s).then(t=>{if(t.length){const n=new Ot.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(w,x)=>x.trim()===""&&x.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);const o=n.parse(t),a="#text",c=Object.keys(o)[0],f=o[c];return f[a]&&(f[c]=f[a],delete f[a]),(0,r.rm)(f)}return{}}),Ls=async(e,s)=>{const t=await W(e,s);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},L=e=>Object.entries(e).map(([s,t])=>(0,r.$6)(s)+"="+(0,r.$6)(t)).join("&"),Os=(e,s)=>{if(s.Error?.Code!==void 0)return s.Error.Code;if(e.statusCode==404)return"NotFound"};class Hs extends r.uB.classBuilder().ep({...Qe}).m(function(s,t,n,o){return[(0,Je.TM)(n,this.serialize,this.deserialize),(0,ie.rD)(n,s.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Gt).ser(Ht).de(Ut).build(){}class js extends r.uB.classBuilder().ep({...Qe}).m(function(s,t,n,o){return[(0,Je.TM)(n,this.serialize,this.deserialize),(0,ie.rD)(n,s.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Ft,Lt).ser(jt).de(Nt).build(){}const Xe="us-east-1",qe=async(e,s,t)=>{const n=typeof e=="function"?await e():e,o=typeof s=="function"?await s():s;return t?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${o} (parent client)`,`${Xe} (STS default)`),n??o??Xe},et=(e,s)=>{let t,n;return async(o,a)=>{if(n=o,!t){const{logger:f=e?.parentClientConfig?.logger,region:w,requestHandler:x=e?.parentClientConfig?.requestHandler,credentialProviderLogger:re}=e,gn=await qe(w,e?.parentClientConfig?.region,re);t=new s({credentialDefaultProvider:()=>async()=>n,region:gn,requestHandler:x,logger:f})}const{Credentials:c}=await t.send(new Hs(a));if(!c||!c.AccessKeyId||!c.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${a.RoleArn}`);return{accessKeyId:c.AccessKeyId,secretAccessKey:c.SecretAccessKey,sessionToken:c.SessionToken,expiration:c.Expiration,credentialScope:c.CredentialScope}}},tt=(e,s)=>{let t;return async n=>{if(!t){const{logger:a=e?.parentClientConfig?.logger,region:c,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:w}=e,x=await qe(c,e?.parentClientConfig?.region,w);t=new s({region:x,requestHandler:f,logger:a})}const{Credentials:o}=await t.send(new js(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,credentialScope:o.CredentialScope}}},Mn=e=>s=>e({roleAssumer:et(s,s.stsClientCtor),roleAssumerWithWebIdentity:tt(s,s.stsClientCtor),...s});var st=d(6398),Us=d(682),Ns=d(4596),nt=d(2194),q=d(3105),ee=d(3766),Vs=d(5067),ne=d(3115),Bs=d(1698),ot=d(1741);const Zs=async(e,s,t)=>({operation:(0,ot.u)(s).operation,region:await(0,ot.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Js(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(s,t)=>({signingProperties:{config:s,context:t}})}}function rt(e){return{schemeId:"smithy.api#noAuth"}}const Qs=e=>{const s=[];switch(e.operation){case"AssumeRoleWithSAML":{s.push(rt(e));break}case"AssumeRoleWithWebIdentity":{s.push(rt(e));break}default:s.push(Js(e))}return s},Ys=e=>({...e,stsClientCtor:Ze}),Xs=e=>{const s=Ys(e);return{...(0,Bs.h)(s)}},qs={rE:"3.525.0"},it=e=>()=>Promise.resolve().then(d.bind(d,5222)).then(({defaultProvider:s})=>s(e)());var en=d(2061),ct=d(4067),tn=d(5094),sn=d(4259),te=d(8967),at=d(5047),nn=d(6711),on=d(4753),rn=d(5999),dt=d(8690),lt=d(4439),cn=d(2221);const mt="required",i="type",l="fn",m="argv",O="ref",ut=!1,Ne=!0,H="booleanEquals",y="stringEquals",ht="sigv4",ft="sts",yt="us-east-1",h="endpoint",gt="https://sts.{Region}.{PartitionResult#dnsSuffix}",_="tree",Q="error",Ve="getAttr",At={[mt]:!1,[i]:"String"},Be={[mt]:!0,default:!1,[i]:"Boolean"},St={[O]:"Endpoint"},Et={[l]:"isSet",[m]:[{[O]:"Region"}]},g={[O]:"Region"},Pt={[l]:"aws.partition",[m]:[g],assign:"PartitionResult"},vt={[O]:"UseFIPS"},Rt={[O]:"UseDualStack"},S={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:ht,signingName:ft,signingRegion:yt}]},headers:{}},v={},It={conditions:[{[l]:y,[m]:[g,"aws-global"]}],[h]:S,[i]:h},Ct={[l]:H,[m]:[vt,!0]},pt={[l]:H,[m]:[Rt,!0]},xt={[l]:Ve,[m]:[{[O]:"PartitionResult"},"supportsFIPS"]},bt={[O]:"PartitionResult"},_t={[l]:H,[m]:[!0,{[l]:Ve,[m]:[bt,"supportsDualStack"]}]},wt=[{[l]:"isSet",[m]:[St]}],Tt=[Ct],Dt=[pt],an={version:"1.0",parameters:{Region:At,UseDualStack:Be,UseFIPS:Be,Endpoint:At,UseGlobalEndpoint:Be},rules:[{conditions:[{[l]:H,[m]:[{[O]:"UseGlobalEndpoint"},Ne]},{[l]:"not",[m]:wt},Et,Pt,{[l]:H,[m]:[vt,ut]},{[l]:H,[m]:[Rt,ut]}],rules:[{conditions:[{[l]:y,[m]:[g,"ap-northeast-1"]}],endpoint:S,[i]:h},{conditions:[{[l]:y,[m]:[g,"ap-south-1"]}],endpoint:S,[i]:h},{conditions:[{[l]:y,[m]:[g,"ap-southeast-1"]}],endpoint:S,[i]:h},{conditions:[{[l]:y,[m]:[g,"ap-southeast-2"]}],endpoint:S,[i]:h},It,{conditions:[{[l]:y,[m]:[g,"ca-central-1"]}],endpoint:S,[i]:h},{conditions:[{[l]:y,[m]:[g,"eu-central-1"]}],endpoint:S,[i]:h},{conditions:[{[l]:y,[m]:[g,"eu-north-1"]}],endpoint:S,[i]:h},{conditions:[{[l]:y,[m]:[g,"eu-west-1"]}],endpoint:S,[i]:h},{conditions:[{[l]:y,[m]:[g,"eu-west-2"]}],endpoint:S,[i]:h},{conditions:[{[l]:y,[m]:[g,"eu-west-3"]}],endpoint:S,[i]:h},{conditions:[{[l]:y,[m]:[g,"sa-east-1"]}],endpoint:S,[i]:h},{conditions:[{[l]:y,[m]:[g,yt]}],endpoint:S,[i]:h},{conditions:[{[l]:y,[m]:[g,"us-east-2"]}],endpoint:S,[i]:h},{conditions:[{[l]:y,[m]:[g,"us-west-1"]}],endpoint:S,[i]:h},{conditions:[{[l]:y,[m]:[g,"us-west-2"]}],endpoint:S,[i]:h},{endpoint:{url:gt,properties:{authSchemes:[{name:ht,signingName:ft,signingRegion:"{Region}"}]},headers:v},[i]:h}],[i]:_},{conditions:wt,rules:[{conditions:Tt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[i]:Q},{conditions:Dt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[i]:Q},{endpoint:{url:St,properties:v,headers:v},[i]:h}],[i]:_},{conditions:[Et],rules:[{conditions:[Pt],rules:[{conditions:[Ct,pt],rules:[{conditions:[{[l]:H,[m]:[Ne,xt]},_t],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:v,headers:v},[i]:h}],[i]:_},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[i]:Q}],[i]:_},{conditions:Tt,rules:[{conditions:[{[l]:H,[m]:[xt,Ne]}],rules:[{conditions:[{[l]:y,[m]:[{[l]:Ve,[m]:[bt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:v,headers:v},[i]:h},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:v,headers:v},[i]:h}],[i]:_},{error:"FIPS is enabled but this partition does not support FIPS",[i]:Q}],[i]:_},{conditions:Dt,rules:[{conditions:[_t],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:v,headers:v},[i]:h}],[i]:_},{error:"DualStack is enabled but this partition does not support DualStack",[i]:Q}],[i]:_},It,{endpoint:{url:gt,properties:v,headers:v},[i]:h}],[i]:_}],[i]:_},{error:"Invalid Configuration: Missing Region",[i]:Q}]},dn=(e,s={})=>(0,cn.sO)(an,{endpointParams:e,logger:s.logger}),ln=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??dt.E,base64Encoder:e?.base64Encoder??dt.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??dn,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Qs,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4"),signer:new ct.f},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ee.mR}],logger:e?.logger??new r.N4,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??rn.D,utf8Decoder:e?.utf8Decoder??lt.ar,utf8Encoder:e?.utf8Encoder??lt.Pq});var mn=d(8323);const un=e=>{(0,r.I9)(process.version);const s=(0,mn.I)(e),t=()=>s().then(r.lT),n=ln(e);return(0,en.I)(process.version),{...n,...e,runtime:"node",defaultsMode:s,bodyLengthChecker:e?.bodyLengthChecker??nn.n,credentialDefaultProvider:e?.credentialDefaultProvider??it,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,tn.mJ)({serviceId:n.serviceId,clientVersion:qs.rE}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async a=>await it(a?.__config||{})()),signer:new ct.f},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ee.mR}],maxAttempts:e?.maxAttempts??(0,te.Z)(ne.qs),region:e?.region??(0,te.Z)(q.GG,q.zH),requestHandler:at.$c.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,te.Z)({...ne.kN,default:async()=>(await t()).retryMode||on.L0}),sha256:e?.sha256??sn.V.bind(null,"sha256"),streamCollector:e?.streamCollector??at.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,te.Z)(q.e$),useFipsEndpoint:e?.useFipsEndpoint??(0,te.Z)(q.Ko)}};var $t=d(6319);const hn=e=>{const s=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){const a=s.findIndex(c=>c.schemeId===o.schemeId);a===-1?s.push(o):s.splice(a,1,o)},httpAuthSchemes(){return s},setHttpAuthSchemeProvider(o){t=o},httpAuthSchemeProvider(){return t},setCredentials(o){n=o},credentials(){return n}}},fn=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),oe=e=>e,yn=(e,s)=>{const t={...oe((0,$t.Rq)(e)),...oe((0,r.xA)(e)),...oe((0,ye.eS)(e)),...oe(hn(e))};return s.forEach(n=>n.configure(t)),{...e,...(0,$t.$3)(t),...(0,r.uv)(t),...(0,ye.jt)(t),...fn(t)}};class Ze extends r.Kj{constructor(...[s]){const t=un(s||{}),n=zt(t),o=(0,q.TD)(n),a=(0,ie.Co)(o),c=(0,ne.$z)(a),f=(0,st.OV)(c),w=(0,nt.Dc)(f),x=Xs(w),re=yn(x,s?.extensions||[]);super(re),this.config=re,this.middlewareStack.use((0,ne.ey)(this.config)),this.middlewareStack.use((0,Vs.vK)(this.config)),this.middlewareStack.use((0,st.TC)(this.config)),this.middlewareStack.use((0,Us.Y7)(this.config)),this.middlewareStack.use((0,Ns.n4)(this.config)),this.middlewareStack.use((0,nt.sM)(this.config)),this.middlewareStack.use((0,ee.wB)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,ee.lW)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return Zs}getIdentityProviderConfigProvider(){return async s=>new ee.h$({"aws.auth#sigv4":s.credentials})}}const Wt=(e,s)=>s?class extends e{constructor(n){super(n);for(const o of s)this.middlewareStack.use(o)}}:e,Mt=(e={},s)=>et(e,Wt(Ze,s)),Kt=(e={},s)=>tt(e,Wt(Ze,s)),kn=e=>s=>e({roleAssumer:Mt(s),roleAssumerWithWebIdentity:Kt(s),...s})}};

//# sourceMappingURL=135.js.map