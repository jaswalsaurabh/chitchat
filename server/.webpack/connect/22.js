"use strict";exports.id=22,exports.ids=[22],exports.modules={9022:(yt,ue,c)=>{c.d(ue,{CreateTokenCommand:()=>Me,SSOOIDCClient:()=>ht});var F=c(3551),me=c(3774),s=c(112);const ye=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),Se={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class l extends s.TJ{constructor(t){super(t),Object.setPrototypeOf(this,l.prototype)}}class C extends l{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,C.prototype),this.error=t.error,this.error_description=t.error_description}}class P extends l{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,P.prototype),this.error=t.error,this.error_description=t.error_description}}class _ extends l{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,_.prototype),this.error=t.error,this.error_description=t.error_description}}class R extends l{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,R.prototype),this.error=t.error,this.error_description=t.error_description}}class k extends l{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,k.prototype),this.error=t.error,this.error_description=t.error_description}}class A extends l{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,A.prototype),this.error=t.error,this.error_description=t.error_description}}class O extends l{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,O.prototype),this.error=t.error,this.error_description=t.error_description}}class j extends l{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,j.prototype),this.error=t.error,this.error_description=t.error_description}}class $ extends l{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,$.prototype),this.error=t.error,this.error_description=t.error_description}}class D extends l{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,D.prototype),this.error=t.error,this.error_description=t.error_description}}class z extends l{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,z.prototype),this.error=t.error,this.error_description=t.error_description}}class K extends l{constructor(t){super({name:"InvalidRequestRegionException",$fault:"client",...t}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,K.prototype),this.error=t.error,this.error_description=t.error_description,this.endpoint=t.endpoint,this.region=t.region}}class N extends l{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,N.prototype),this.error=t.error,this.error_description=t.error_description}}const xe=e=>({...e,...e.clientSecret&&{clientSecret:s.$H},...e.refreshToken&&{refreshToken:s.$H}}),ge=e=>({...e,...e.accessToken&&{accessToken:s.$H},...e.refreshToken&&{refreshToken:s.$H},...e.idToken&&{idToken:s.$H}}),St=e=>({...e,...e.refreshToken&&{refreshToken:SENSITIVE_STRING},...e.assertion&&{assertion:SENSITIVE_STRING},...e.subjectToken&&{subjectToken:SENSITIVE_STRING}}),xt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING},...e.refreshToken&&{refreshToken:SENSITIVE_STRING},...e.idToken&&{idToken:SENSITIVE_STRING}}),gt=e=>({...e,...e.clientSecret&&{clientSecret:SENSITIVE_STRING}}),ft=e=>({...e,...e.clientSecret&&{clientSecret:SENSITIVE_STRING}});var g=c(3766);const fe=async(e,t)=>{const n=(0,g.lI)(e,t),o={"content-type":"application/json"};n.bp("/token");let r;return r=JSON.stringify((0,s.s)(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,s.Ss)(i)})),n.m("POST").h(o).b(r),n.build()},vt=async(e,t)=>{const n=rb(e,t),o={"content-type":"application/json"};n.bp("/token");const r=map({[ze]:[,"t"]});let i;return i=JSON.stringify(take(e,{assertion:[],clientId:[],code:[],grantType:[],redirectUri:[],refreshToken:[],requestedTokenType:[],scope:a=>_json(a),subjectToken:[],subjectTokenType:[]})),n.m("POST").h(o).q(r).b(i),n.build()},Et=async(e,t)=>{const n=rb(e,t),o={"content-type":"application/json"};n.bp("/client/register");let r;return r=JSON.stringify(take(e,{clientName:[],clientType:[],scopes:i=>_json(i)})),n.m("POST").h(o).b(r),n.build()},It=async(e,t)=>{const n=rb(e,t),o={"content-type":"application/json"};n.bp("/device_authorization");let r;return r=JSON.stringify(take(e,{clientId:[],clientSecret:[],startUrl:[]})),n.m("POST").h(o).b(r),n.build()},ve=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return T(e,t);const n=(0,s.Tj)({$metadata:d(e)}),o=(0,s.Y0)((0,s.Xk)(await f(e.body,t)),"body"),r=(0,s.s)(o,{accessToken:s.lK,expiresIn:s.ET,idToken:s.lK,refreshToken:s.lK,tokenType:s.lK});return Object.assign(n,r),n},Tt=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return T(e,t);const n=map({$metadata:d(e)}),o=__expectNonNull(__expectObject(await f(e.body,t)),"body"),r=take(o,{accessToken:__expectString,expiresIn:__expectInt32,idToken:__expectString,issuedTokenType:__expectString,refreshToken:__expectString,scope:_json,tokenType:__expectString});return Object.assign(n,r),n},wt=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return T(e,t);const n=map({$metadata:d(e)}),o=__expectNonNull(__expectObject(await f(e.body,t)),"body"),r=take(o,{authorizationEndpoint:__expectString,clientId:__expectString,clientIdIssuedAt:__expectLong,clientSecret:__expectString,clientSecretExpiresAt:__expectLong,tokenEndpoint:__expectString});return Object.assign(n,r),n},bt=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return T(e,t);const n=map({$metadata:d(e)}),o=__expectNonNull(__expectObject(await f(e.body,t)),"body"),r=take(o,{deviceCode:__expectString,expiresIn:__expectInt32,interval:__expectInt32,userCode:__expectString,verificationUri:__expectString,verificationUriComplete:__expectString});return Object.assign(n,r),n},T=async(e,t)=>{const n={...e,body:await Ke(e.body,t)},o=Ne(e,n.body);switch(o){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Ie(n,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Te(n,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await we(n,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await be(n,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Ce(n,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await _e(n,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Re(n,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Ae(n,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Oe(n,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await je(n,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await $e(n,t);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await ke(n,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await Pe(n,t);default:const r=n.body;return Ee({output:e,parsedBody:r,errorCode:o})}},Ee=(0,s.jr)(l),Ie=async(e,t)=>{const n=(0,s.Tj)({}),o=e.body,r=(0,s.s)(o,{error:s.lK,error_description:s.lK});Object.assign(n,r);const i=new C({$metadata:d(e),...n});return(0,s.Mw)(i,e.body)},Te=async(e,t)=>{const n=(0,s.Tj)({}),o=e.body,r=(0,s.s)(o,{error:s.lK,error_description:s.lK});Object.assign(n,r);const i=new P({$metadata:d(e),...n});return(0,s.Mw)(i,e.body)},we=async(e,t)=>{const n=(0,s.Tj)({}),o=e.body,r=(0,s.s)(o,{error:s.lK,error_description:s.lK});Object.assign(n,r);const i=new _({$metadata:d(e),...n});return(0,s.Mw)(i,e.body)},be=async(e,t)=>{const n=(0,s.Tj)({}),o=e.body,r=(0,s.s)(o,{error:s.lK,error_description:s.lK});Object.assign(n,r);const i=new R({$metadata:d(e),...n});return(0,s.Mw)(i,e.body)},Ce=async(e,t)=>{const n=(0,s.Tj)({}),o=e.body,r=(0,s.s)(o,{error:s.lK,error_description:s.lK});Object.assign(n,r);const i=new k({$metadata:d(e),...n});return(0,s.Mw)(i,e.body)},Pe=async(e,t)=>{const n=(0,s.Tj)({}),o=e.body,r=(0,s.s)(o,{error:s.lK,error_description:s.lK});Object.assign(n,r);const i=new N({$metadata:d(e),...n});return(0,s.Mw)(i,e.body)},_e=async(e,t)=>{const n=(0,s.Tj)({}),o=e.body,r=(0,s.s)(o,{error:s.lK,error_description:s.lK});Object.assign(n,r);const i=new A({$metadata:d(e),...n});return(0,s.Mw)(i,e.body)},Re=async(e,t)=>{const n=(0,s.Tj)({}),o=e.body,r=(0,s.s)(o,{error:s.lK,error_description:s.lK});Object.assign(n,r);const i=new O({$metadata:d(e),...n});return(0,s.Mw)(i,e.body)},ke=async(e,t)=>{const n=(0,s.Tj)({}),o=e.body,r=(0,s.s)(o,{endpoint:s.lK,error:s.lK,error_description:s.lK,region:s.lK});Object.assign(n,r);const i=new K({$metadata:d(e),...n});return(0,s.Mw)(i,e.body)},Ae=async(e,t)=>{const n=(0,s.Tj)({}),o=e.body,r=(0,s.s)(o,{error:s.lK,error_description:s.lK});Object.assign(n,r);const i=new j({$metadata:d(e),...n});return(0,s.Mw)(i,e.body)},Oe=async(e,t)=>{const n=(0,s.Tj)({}),o=e.body,r=(0,s.s)(o,{error:s.lK,error_description:s.lK});Object.assign(n,r);const i=new $({$metadata:d(e),...n});return(0,s.Mw)(i,e.body)},je=async(e,t)=>{const n=(0,s.Tj)({}),o=e.body,r=(0,s.s)(o,{error:s.lK,error_description:s.lK});Object.assign(n,r);const i=new D({$metadata:d(e),...n});return(0,s.Mw)(i,e.body)},$e=async(e,t)=>{const n=(0,s.Tj)({}),o=e.body,r=(0,s.s)(o,{error:s.lK,error_description:s.lK});Object.assign(n,r);const i=new z({$metadata:d(e),...n});return(0,s.Mw)(i,e.body)},d=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),De=(e,t)=>(0,s.Px)(e,t).then(n=>t.utf8Encoder(n)),Ct=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),ze="aws_iam",f=(e,t)=>De(e,t).then(n=>n.length?JSON.parse(n):{}),Ke=async(e,t)=>{const n=await f(e,t);return n.message=n.message??n.Message,n},Ne=(e,t)=>{const n=(i,a)=>Object.keys(i).find(G=>G.toLowerCase()===a.toLowerCase()),o=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},r=n(e.headers,"x-amzn-errortype");if(r!==void 0)return o(e.headers[r]);if(t.code!==void 0)return o(t.code);if(t.__type!==void 0)return o(t.__type)};class Me extends s.uB.classBuilder().ep({...Se}).m(function(t,n,o,r){return[(0,me.TM)(o,this.serialize,this.deserialize),(0,F.rD)(o,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(xe,ge).ser(fe).de(ve).build(){}var V=c(3340),Ue=c(5904),He=c(42),L=c(9688),v=c(3105),Ge=c(5067),w=c(3115),Fe=c(1352),B=c(1741);const Ve=async(e,t,n)=>({operation:(0,B.u)(t).operation,region:await(0,B.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Le(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,n)=>({signingProperties:{config:t,context:n}})}}function M(e){return{schemeId:"smithy.api#noAuth"}}const Be=e=>{const t=[];switch(e.operation){case"CreateToken":{t.push(M(e));break}case"RegisterClient":{t.push(M(e));break}case"StartDeviceAuthorization":{t.push(M(e));break}default:t.push(Le(e))}return t},Je=e=>({...(0,Fe.h)(e)}),We={rE:"3.525.0"},Ze=e=>()=>Promise.resolve().then(c.bind(c,2092)).then(({defaultProvider:t})=>t(e)());var Ye=c(6939),Xe=c(2836),qe=c(4259),E=c(8967),J=c(5047),Qe=c(6711),et=c(4753),tt=c(6753),nt=c(5999),W=c(8690),Z=c(4439),st=c(2221);const Y="required",p="fn",h="argv",y="ref",X=!0,q="isSet",I="booleanEquals",S="error",x="endpoint",m="tree",U="PartitionResult",H="getAttr",Q={[Y]:!1,type:"String"},ee={[Y]:!0,default:!1,type:"Boolean"},te={[y]:"Endpoint"},ne={[p]:I,[h]:[{[y]:"UseFIPS"},!0]},se={[p]:I,[h]:[{[y]:"UseDualStack"},!0]},u={},oe={[p]:H,[h]:[{[y]:U},"supportsFIPS"]},re={[y]:U},ie={[p]:I,[h]:[!0,{[p]:H,[h]:[re,"supportsDualStack"]}]},ce=[ne],ae=[se],de=[{[y]:"Region"}],ot={version:"1.0",parameters:{Region:Q,UseDualStack:ee,UseFIPS:ee,Endpoint:Q},rules:[{conditions:[{[p]:q,[h]:[te]}],rules:[{conditions:ce,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:S},{conditions:ae,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:S},{endpoint:{url:te,properties:u,headers:u},type:x}],type:m},{conditions:[{[p]:q,[h]:de}],rules:[{conditions:[{[p]:"aws.partition",[h]:de,assign:U}],rules:[{conditions:[ne,se],rules:[{conditions:[{[p]:I,[h]:[X,oe]},ie],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:u,headers:u},type:x}],type:m},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:S}],type:m},{conditions:ce,rules:[{conditions:[{[p]:I,[h]:[oe,X]}],rules:[{conditions:[{[p]:"stringEquals",[h]:[{[p]:H,[h]:[re,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:u,headers:u},type:x},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:u,headers:u},type:x}],type:m},{error:"FIPS is enabled but this partition does not support FIPS",type:S}],type:m},{conditions:ae,rules:[{conditions:[ie],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:u,headers:u},type:x}],type:m},{error:"DualStack is enabled but this partition does not support DualStack",type:S}],type:m},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:u,headers:u},type:x}],type:m}],type:m},{error:"Invalid Configuration: Missing Region",type:S}]},rt=(e,t={})=>(0,st.sO)(ot,{endpointParams:e,logger:t.logger}),it=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??W.E,base64Encoder:e?.base64Encoder??W.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??rt,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Be,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new tt.f},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new g.mR}],logger:e?.logger??new s.N4,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??nt.D,utf8Decoder:e?.utf8Decoder??Z.ar,utf8Encoder:e?.utf8Encoder??Z.Pq});var ct=c(8323);const at=e=>{(0,s.I9)(process.version);const t=(0,ct.I)(e),n=()=>t().then(s.lT),o=it(e);return(0,Ye.I)(process.version),{...o,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Qe.n,credentialDefaultProvider:e?.credentialDefaultProvider??Ze,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Xe.mJ)({serviceId:o.serviceId,clientVersion:We.rE}),maxAttempts:e?.maxAttempts??(0,E.Z)(w.qs),region:e?.region??(0,E.Z)(v.GG,v.zH),requestHandler:J.$c.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,E.Z)({...w.kN,default:async()=>(await n()).retryMode||et.L0}),sha256:e?.sha256??qe.V.bind(null,"sha256"),streamCollector:e?.streamCollector??J.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,E.Z)(v.e$),useFipsEndpoint:e?.useFipsEndpoint??(0,E.Z)(v.Ko)}};var le=c(765),pe=c(9113);const dt=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(r){const i=t.findIndex(a=>a.schemeId===r.schemeId);i===-1?t.push(r):t.splice(i,1,r)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(r){n=r},httpAuthSchemeProvider(){return n},setCredentials(r){o=r},credentials(){return o}}},lt=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),b=e=>e,pt=(e,t)=>{const n={...b((0,le.Rq)(e)),...b((0,s.xA)(e)),...b((0,pe.eS)(e)),...b(dt(e))};return t.forEach(o=>o.configure(n)),{...e,...(0,le.$3)(n),...(0,s.uv)(n),...(0,pe.jt)(n),...lt(n)}};class ht extends s.Kj{constructor(...[t]){const n=at(t||{}),o=ye(n),r=(0,v.TD)(o),i=(0,F.Co)(r),a=(0,w.$z)(i),G=(0,V.OV)(a),ut=(0,L.Dc)(G),mt=Je(ut),he=pt(mt,t?.extensions||[]);super(he),this.config=he,this.middlewareStack.use((0,w.ey)(this.config)),this.middlewareStack.use((0,Ge.vK)(this.config)),this.middlewareStack.use((0,V.TC)(this.config)),this.middlewareStack.use((0,Ue.Y7)(this.config)),this.middlewareStack.use((0,He.n4)(this.config)),this.middlewareStack.use((0,L.sM)(this.config)),this.middlewareStack.use((0,g.wB)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,g.lW)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return Ve}getIdentityProviderConfigProvider(){return async t=>new g.h$({"aws.auth#sigv4":t.credentials})}}}};

//# sourceMappingURL=22.js.map